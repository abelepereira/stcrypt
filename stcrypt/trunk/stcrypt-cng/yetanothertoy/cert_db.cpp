//================================================================================================================================================
// FILE: cert_db.cpp
// (c) GIE 2011-02-09  20:02
//
//================================================================================================================================================
#include "stdafx.h"
//================================================================================================================================================
#include "cert_db.hpp"
//================================================================================================================================================
#include "../../stcrypt-cng/stcrypt-cng-fs-keystorage-prop.hpp"
//================================================================================================================================================
namespace toy {

	cert_db::cert_db(boost::filesystem::wpath root) : m_root (root)
	{
		try{
			boost::filesystem::create_directories( m_root );
		}catch(boost::exception const& e){
			STCRYPT_THROW_EXCEPTION( exception::cert_db_root_creation_failed() << boost::errinfo_nested_exception( boost::copy_exception(e) ) );
		}
	}


}
//================================================================================================================================================
